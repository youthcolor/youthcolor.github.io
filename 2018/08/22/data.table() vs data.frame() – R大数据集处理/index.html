<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="youthcolor's github blog"><title>data.table() vs data.frame() – R大数据集处理 | Geekdreams</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">data.table() vs data.frame() – R大数据集处理</h1><a id="logo" href="/.">Geekdreams</a><p class="description">Nothing is difficult to the man who will try.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">data.table() vs data.frame() – R大数据集处理</h1><div class="post-meta"><a href="/2018/08/22/data.table() vs data.frame() – R大数据集处理/#comments" class="comment-count"><a id="uyan_count_unit" href="/2018/08/22/data.table() vs data.frame() – R大数据集处理/"></a>留言</a><p><span class="date">Aug 22, 2018</span><span><a href="/categories/R/" class="category">R</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h2 id="引文"><a href="#引文" class="headerlink" title="引文"></a>引文</h2><p>R用户(主要是初学者)在处理大型数据集时往往是比较无助的。他们会被重复的警告以及内存使用不足的错误信息所困扰。他们中的大多数人就会觉得，自己的机器配置不够强大。是时候升级内存，或者在新机器上工作了。你有这样想过吗?<br><a id="more"></a><br>如果你认真研究过数据集，我相信你一定会有。甚至，当我参加黑色星期五的时候，我也做了同样的工作。数据集包含40多万行。我完全无可奈何。老实说，看到RStudio花费数小时执行一行代码是令人沮丧的。就像我们说的，“需求是发明之母”。我需要一个解决方案。</p>
<p>经过2个小时的互联网搜索研究，我发现了一些有趣的R包<em>data.table</em>和api，特别是在不影响执行速度的情况下使用大型数据集。</p>
<p>在本文中，我分享了一种智能方法，当您在大型数据集上工作时，您应该使用这种方法。当您向下滚动时，您将会遇到可以改进您的R编码的更改类型。是时候编写快速而简短的代码了。可以把<em>data.table</em>看作是一个关于数据的快速教程。</p>
<h2 id="为什么你的机器无法处理大数据集"><a href="#为什么你的机器无法处理大数据集" class="headerlink" title="为什么你的机器无法处理大数据集"></a>为什么你的机器无法处理大数据集</h2><p>理解影响您的R代码性能的因素是很重要的。很多时候，你的机器配置强弱直接影响你R代码所能处理的工作。下面是一些妨碍R在大数据集上的性能的例子:</p>
<ol>
<li>使用<em>read.csv</em>加载大文件的csv函数。</li>
<li>使用谷歌chrome:在chrome中打开几个标签会消耗大量系统的内存。这可以在chrome浏览器中使用Shift+Esc键进行检查。(同样也适用于Mozilla web浏览器)</li>
<li>机器配置:R将整个数据集立即读取到RAM中。也就是说，R对象完全存在于内存中。如果您仍在使用2GB RAM机器，那么您在技术上是行不通的。有了2GB内存，就没有足够的空闲RAM空间可以无缝地处理大数据。因此，强烈建议使用至少4GB的机器。</li>
<li>在高温环境下工作:一旦机器升温，处理器速度就会减慢。特别是在夏季，它就会是一个比较严重的问题。</li>
</ol>
<p>注:我的系统规格是Intel(R) i5-3320M CPU @2.60 GHz，双核，4个逻辑处理器，8GB RAM。</p>
<h2 id="关于data-table"><a href="#关于data-table" class="headerlink" title="关于data.table"></a>关于data.table</h2><p><em>data.table</em>包是<em>Matt Dowle</em>在2008年编写的。</p>
<p><em>data.table</em>作为一个高级版本的data.frame。它从data.frame继承而来，data.frame语法也都可以应用在<em>data.table</em>中。这个包可以与任何其他包接受data.frame的包一起使用。</p>
<p><em>data.table</em>的语法与SQL非常相似。因此，如果您使用SQL，您将很快理解它。<em>data.table</em>语法的一般形式是:<em>DT[i, j, by]</em>，这里</p>
<ol>
<li>DT表示数据表。</li>
<li>i &lt;=&gt; where: 表示行索引，这里，是行条件。</li>
<li>j &lt;=&gt; select: 表示列索引，这里，是列上放置条件(过滤，总结)。</li>
<li>by &lt;=&gt; group_by: 表示任何分类变量，这里，是分组执行的变量。</li>
</ol>
<p>例如：<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#creating a dummy data table</span></div><div class="line">DT &lt;- data.table( ID = <span class="number">1</span>:<span class="number">50</span>,</div><div class="line">                Capacity = sample(<span class="number">100</span>:<span class="number">1000</span>, size = <span class="number">50</span>, replace = <span class="literal">F</span>),</div><div class="line">                Code = sample(LETTERS[<span class="number">1</span>:<span class="number">4</span>], <span class="number">50</span>, replace = <span class="literal">T</span>),</div><div class="line">                State = rep(c(<span class="string">"Alabama"</span>,<span class="string">"Indiana"</span>,<span class="string">"Texas"</span>,<span class="string">"Nevada"</span>), <span class="number">50</span>))</div><div class="line"><span class="comment">#simple data.table command</span></div><div class="line">DT[Code == <span class="string">"C"</span>, mean(Capacity), State]</div><div class="line">     State       V1</div><div class="line"><span class="number">1</span>: Alabama <span class="number">538.8333</span></div><div class="line"><span class="number">2</span>:  Nevada <span class="number">487.0000</span></div><div class="line"><span class="number">3</span>: Indiana <span class="number">487.0000</span></div><div class="line"><span class="number">4</span>:   Texas <span class="number">538.8333</span></div></pre></td></tr></table></figure></p>
<p>让我们看看这个命令是如何工作的。在创建了数据表之后，请求数据表对其Code列为C的行进行过滤，然后要求它计算每一个状态行的Capacity平均值。您不必总是提到语法的所有三个部分。试着在你的结尾执行以下命令:<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DT[Code == <span class="string">"D"</span>]</div><div class="line">DT[, mean(Capacity), by = State]</div><div class="line">DT[Code == <span class="string">"A"</span>, mean(Capacity)]</div></pre></td></tr></table></figure></p>
<h2 id="为什么要使用data-table而不是data-frame"><a href="#为什么要使用data-table而不是data-frame" class="headerlink" title="为什么要使用data.table而不是data.frame"></a>为什么要使用data.table而不是data.frame</h2><p>在我深入研究data.table之后，发现了优于data.frame包的几个方面。因此，我建议每个R初学者都可能多的使用data.table。它有很多值得探索的地方。你越早开始使用，你就会做得越好。您应该使用data.table,因为:</p>
<ol>
<li>在加载数据时，它的速度极快。使用data.table中的fread函数，加载大型数据集只需几秒钟。例如，我使用包含439541行的数据集来检查加载时间。让我们看看fread有多快。<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">system.time(dt &lt;- read.csv(<span class="string">"data.csv"</span>))</div><div class="line">user  system elapsed </div><div class="line"><span class="number">11.46</span>  <span class="number">0.21</span>   <span class="number">11.69</span></div><div class="line">system.time(dt &lt;- fread(<span class="string">"data.csv"</span>))</div><div class="line">user system elapsed </div><div class="line"><span class="number">0.66</span>  <span class="number">0.00</span>   <span class="number">0.66</span></div><div class="line">dim(dt)</div><div class="line">[<span class="number">1</span>] <span class="number">439541</span> <span class="number">18</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>如您所见，以fread加载数据的速度比基本函数read.csv快16倍。fread()比read.csv()更快，因为，read.csv()尝试首先将行读取到内存中，然后尝试将它们转换为整数，并作为数据类型进行转换。而fread()只是简单地把所有的数据都读成字符。</p>
<ol>
<li>它甚至比流行的dplyr，plyr软件包还要快。data.table 为任务提供了足够的空间，如聚合、过滤、合并、分组和其他相关任务等。例如:<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">system.time(dt %&gt;% group_by(Store_ID) %&gt;% filter(Gender == <span class="string">"F"</span>) %&gt;%                                       summarise(sum(Transaction_Amount), mean(Var2))) <span class="comment">#with dplyr</span></div><div class="line">user system elapsed </div><div class="line"><span class="number">0.13</span>  <span class="number">0.02</span>   <span class="number">0.21</span></div><div class="line">system.time(dt[Gender == <span class="string">"F"</span>, .(sum(Transaction_Amount), mean(Var2)), by = Store_ID])</div><div class="line">user system elapsed </div><div class="line"><span class="number">0.02</span>  <span class="number">0.00</span>   <span class="number">0.01</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>data.table处理这个任务的速度比dplyr快20倍。之所以发生这种情况，是因为它避免将内存分配给诸如过滤之类的中间步骤。另外，dplyr还创建了作为数据的整个数据帧的深度拷贝。data.table对数据框架进行了简单的复制。浅拷贝意味着数据不会在系统的内存中被物理地复制。它只是一个列指针(名称)的副本。深度拷贝将整个数据复制到内存中的另一个位置。因此，随着内存效率的提高，计算的速度也得到了提高。</p>
<ol>
<li>不只是读取文件，将数据写入文件方面，data.table也比write.csv()快得多。这个包提供了fwrite()函数，具有并行快速写入能力。所以，下次你要写入100万行数据，试试这个函数。</li>
<li>在构建特征中，如自动索引、滚动连接、重叠范围连接，都进一步增强了用户在大数据集上的体验。</li>
</ol>
<p>因此，您可以看到data.frame没有什么问题，它只是缺少像data.table一样更适用的特性和操作。</p>
<h2 id="重要的数据操作命令"><a href="#重要的数据操作命令" class="headerlink" title="重要的数据操作命令"></a>重要的数据操作命令</h2><p>本教程的目的是为您提供一些方便的命令，这些命令可以加速您的建模过程。实际上，在这个包中有很多要探索的地方，您可能会对从哪里开始、何时使用哪个命令以及何时使用特定命令感到困惑。在这里，我提供了一些最常见的问题，这些问题可能是您在进行数据探测/操作时经常遇到的。</p>
<p>下面使用的数据集可以从这里下载:<a href="http://download.geonames.org/export/zip/GB_full.csv.zip" target="_blank" rel="external">下载</a>。数据集包含1720673行12列。有趣的是，data.table会使这些数据多长时间被加载，是采取行动的时候了!</p>
<p>注意:数据集包含不均匀分布的观测值，即空列和NA值。获取这些数据的原因是为了检查data.table在处理大数据集的性能。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#set working directory</span></div><div class="line">setwd(<span class="string">"C:/Users/Administrator/Desktop/新建文件夹/"</span>)</div><div class="line"><span class="comment">#load data</span></div><div class="line">DT &lt;- fread(<span class="string">"GB_full.csv"</span>)</div><div class="line">Read <span class="number">1720673</span> rows and <span class="number">12</span> (of <span class="number">12</span>) columns from <span class="number">0.191</span> GB file <span class="keyword">in</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">07</span></div></pre></td></tr></table></figure></p>
<p>读取数据只用了7秒。</p>
<h3 id="如何获取行和列的子集"><a href="#如何获取行和列的子集" class="headerlink" title="如何获取行和列的子集"></a>如何获取行和列的子集</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#subsetting rows</span></div><div class="line">sub_rows &lt;- DT[V4 == <span class="string">"England"</span> &amp; V3 == <span class="string">"Beswick"</span>]</div><div class="line">   V1   V2      V3      V4  V5                       V6       V7 V8 V9 V10 V11 V12</div><div class="line"><span class="number">1</span>: GB YO25 Beswick England ENG East Riding of Yorkshire <span class="number">11609011</span>        <span class="literal">NA</span>  <span class="literal">NA</span>   <span class="number">4</span></div><div class="line"><span class="comment">#subsetting columns</span></div><div class="line">sub_columns &lt;- DT[,.(V2,V3,V4)]</div><div class="line">               V2                  V3       V4</div><div class="line">      <span class="number">1</span>:     AB10            Aberdeen Scotland</div><div class="line">      <span class="number">2</span>: AB10 1AB            Aberdeen Scotland</div><div class="line">      <span class="number">3</span>: AB10 1AF            Aberdeen Scotland</div><div class="line">      <span class="number">4</span>: AB10 1AG            Aberdeen Scotland</div><div class="line">      <span class="number">5</span>: AB10 1AH            Aberdeen Scotland</div><div class="line">     ---                                      </div><div class="line"><span class="number">1720669</span>:  ZE3 9JU Shetland South Ward Scotland</div><div class="line"><span class="number">1720670</span>:  ZE3 9JW Shetland South Ward Scotland</div><div class="line"><span class="number">1720671</span>:  ZE3 9JX Shetland South Ward Scotland</div><div class="line"><span class="number">1720672</span>:  ZE3 9JY Shetland South Ward Scotland</div><div class="line"><span class="number">1720673</span>:  ZE3 9JZ Shetland South Ward Scotland</div></pre></td></tr></table></figure>
<p>在data.table中，列被称为变量。因此，我们不需要将变量称为DT$列名，仅列名称就行了。如果你输入DT[,.c(V2，V3，V4)]，它会返回一个列值向量。使用.()符号，将变量封装在list()中，并返回数据表。实际上，每个数据表或数据框都是对长度和不同数据类型的列表的汇编。</p>
<p>设置键可以更快速地获取子集，键不过是更加有效的行名称。如下所示。</p>
<h3 id="如何按升序或降序排列变量"><a href="#如何按升序或降序排列变量" class="headerlink" title="如何按升序或降序排列变量"></a>如何按升序或降序排列变量</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#ordering columns</span></div><div class="line">dt_order &lt;- DT[order(V4, -V8)]</div></pre></td></tr></table></figure>
<p>Order函数是数据表比基本函数order()快得多。原因是，在数据表中的顺序使用基数排序来提高速度。-以降序显示结果。</p>
<h3 id="如何在数据集中添加-更新-删除列或值"><a href="#如何在数据集中添加-更新-删除列或值" class="headerlink" title="如何在数据集中添加/更新/删除列或值"></a>如何在数据集中添加/更新/删除列或值</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#add a new column</span></div><div class="line">DT[, V_New := V10 + V11]</div></pre></td></tr></table></figure>
<p>我们没有将结果返回给DT，这是因为:=操作符通过引用修改输入对象。它会在R中产生较浅的拷贝，从而导致更好的性能，内存占用更少。其结果是不可见的返回。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#update row values</span></div><div class="line">DT[V8 == <span class="string">"Aberdeen City"</span>, V8 := <span class="string">"Abr City"</span>]</div><div class="line"><span class="comment">#delete a column</span></div><div class="line">DT [,c(<span class="string">"V6"</span>,<span class="string">"V7"</span>) := <span class="literal">NULL</span> ]</div></pre></td></tr></table></figure></p>
<p>检查视图(DT)。我们可以看到，数据中包含了数据集中的空白列，可以使用上面的代码删除这些列。实际上，所有这三个步骤都可以在一个命令中完成。这就是命令的链接。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DT[V8 == <span class="string">"Aberdeen City"</span>, V8 := <span class="string">"Abr City"</span>][, V_New := V10 + V11][,c(<span class="string">"V6"</span>,<span class="string">"V7"</span>) := <span class="literal">NULL</span>]</div></pre></td></tr></table></figure></p>
<h3 id="如何基于对一个列分组来计算变量的函数"><a href="#如何基于对一个列分组来计算变量的函数" class="headerlink" title="如何基于对一个列分组来计算变量的函数"></a>如何基于对一个列分组来计算变量的函数</h3><p>让我们计算一下V10变量在V4(显示国家)的基础上的平均值。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#compute the average</span></div><div class="line">DT[, .(average = mean(V1o)), by = V4]</div><div class="line"><span class="comment">#compute the count</span></div><div class="line">DT[, .N, by = V4]</div></pre></td></tr></table></figure></p>
<p>.N是数据中的一个特殊变量。表用于计算变量的计数。如果您希望获得由选项指定的变量的顺序，您可以使用keyby替换by。keyby自动按升序顺序对分组变量进行排序。</p>
<h3 id="如何为子集数据设置键值"><a href="#如何为子集数据设置键值" class="headerlink" title="如何为子集数据设置键值"></a>如何为子集数据设置键值</h3><p>数据表中的键提供了难以置信的快速结果。我们通常在列名称上设置键，这些键可以是任何类型的，例如数字、因数、整数、字符。一旦一个键被设置为一个变量，它就会以递增的顺序重新排列列的观察值。设置一个键是有帮助的，特别是当您知道需要在一个变量上进行多个计算时。<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#setting a key</span></div><div class="line">setkey(DT, V4) </div><div class="line"><span class="comment">#subsetting England from V4</span></div><div class="line">DT[.(<span class="string">"England"</span>)]</div></pre></td></tr></table></figure></p>
<p>一旦设置好了键，我们就不再需要一次又一次地提供列名称了。如果我们要在一个列中寻找多个值，我们可以把它写成:<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DT[.(c(<span class="string">"England"</span>, <span class="string">"Scotland"</span>))]</div></pre></td></tr></table></figure></p>
<p>类似地，我们也可以设置多个键。这可以用:<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">setkey(DT, V3, V4)</div></pre></td></tr></table></figure></p>
<p>我们可以再次使用这两列的子集值:<br><figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DT[.(<span class="string">"Shetland South Ward"</span>,<span class="string">"Scotland"</span>)]</div></pre></td></tr></table></figure></p>
<p>还可以在上面演示的5个步骤中进行其他一些修改。上面介绍的这5个步骤将帮助您使用data.table执行基本的数据操作任务。为了了解更多，我建议您在每天的R工作中开始使用这个包。你会遇到各种各样的障碍，这就是你的学习曲线会加速的地方。</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>本文旨在为您提供一个可以轻松处理大型数据集的路径。你不再需要花钱升级你的机器了，现在是时候升级你处理这种情况的知识了。data.table还有其他几个用于并行计算的包。但是，一旦您精通了data.table，就不需要任何其他的数据操作包了。</p>
<p>在本文中，我讨论了在处理大型数据集时，R中每个初学者都必须知道的一些重要知识。在数据处理之后，接下来的障碍就是模型构建。有了大型数据集，像caret、随机森林、xgboost这样的包需要大量的时间来计算。</p>
<p>我计划下周在我的文章中提供一个有趣的解决方案！在处理大数据时，请告诉我您的痛处。你喜欢看这篇文章吗?在处理大数据集时，您使用了哪些其他的包?在评论中提出您的建议/意见。</p>
</div><div class="tags"><a href="/tags/大数据/">大数据</a></div><div class="post-share"><div class="jiathis_style"><span class="jiathis_txt">分享到：</span><a class="jiathis_button_tsina"></a><a class="jiathis_button_qzone"></a><a class="jiathis_button_weixin"></a><a class="jiathis_button_fb"></a><a class="jiathis_button_linkedin"></a><a class="jiathis_button_twitter"></a><a class="jiathis_button_ydnote"></a><a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis"></a><a class="jiathis_counter_style"></a></div></div><div class="post-nav"><a href="/2018/08/22/R中如何对量化策略进行回测/" class="pre">R中如何对量化策略进行回测</a><a href="/2018/08/22/R中的大数据分析/" class="next">R中的大数据分析</a></div><div id="comments"><div id="uyan_frame"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#引文"><span class="toc-text">引文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么你的机器无法处理大数据集"><span class="toc-text">为什么你的机器无法处理大数据集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于data-table"><span class="toc-text">关于data.table</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么要使用data-table而不是data-frame"><span class="toc-text">为什么要使用data.table而不是data.frame</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#重要的数据操作命令"><span class="toc-text">重要的数据操作命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何获取行和列的子集"><span class="toc-text">如何获取行和列的子集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何按升序或降序排列变量"><span class="toc-text">如何按升序或降序排列变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何在数据集中添加-更新-删除列或值"><span class="toc-text">如何在数据集中添加/更新/删除列或值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何基于对一个列分组来计算变量的函数"><span class="toc-text">如何基于对一个列分组来计算变量的函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何为子集数据设置键值"><span class="toc-text">如何为子集数据设置键值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#写在最后"><span class="toc-text">写在最后</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/R使用keras包和lime包实现图像分类并添加解释/">R使用keras包和lime包实现图像分类并添加解释</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/使用rvest抓取NBA历史比赛数据/">使用rvest抓取NBA历史比赛数据</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/R机器学习之股票预测初探/">R机器学习之股票预测初探</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/R中如何对量化策略进行回测/">R中如何对量化策略进行回测</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/data.table() vs data.frame() – R大数据集处理/">data.table() vs data.frame() – R大数据集处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/R中的大数据分析/">R中的大数据分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/使用H2O和data.table构建R大数据集模型/">使用H2O和data.table构建R大数据集模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/侦测欺诈交易/">侦测欺诈交易</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/实战Caret包对借贷数据进行机器学习预测/">实战Caret包对借贷数据进行机器学习预测</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/22/购物篮关联规则分析/">购物篮关联规则分析</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Python-R/">Python + R</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/R/">R</a><span class="category-list-count">10</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/离群值侦测排序/" style="font-size: 15px;">离群值侦测排序</a> <a href="/tags/量化金融/" style="font-size: 15px;">量化金融</a> <a href="/tags/大数据/" style="font-size: 15px;">大数据</a> <a href="/tags/聚类/" style="font-size: 15px;">聚类</a> <a href="/tags/线性回归/" style="font-size: 15px;">线性回归</a> <a href="/tags/股票预测/" style="font-size: 15px;">股票预测</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/特征选取/" style="font-size: 15px;">特征选取</a> <a href="/tags/keras/" style="font-size: 15px;">keras</a> <a href="/tags/图像分类/" style="font-size: 15px;">图像分类</a> <a href="/tags/lime/" style="font-size: 15px;">lime</a> <a href="/tags/tensorflow/" style="font-size: 15px;">tensorflow</a> <a href="/tags/网络爬虫/" style="font-size: 15px;">网络爬虫</a> <a href="/tags/H2O/" style="font-size: 15px;">H2O</a> <a href="/tags/欺诈侦测/" style="font-size: 15px;">欺诈侦测</a> <a href="/tags/半监督分类/" style="font-size: 15px;">半监督分类</a> <a href="/tags/类失衡/" style="font-size: 15px;">类失衡</a> <a href="/tags/贝叶斯分类器/" style="font-size: 15px;">贝叶斯分类器</a> <a href="/tags/AdaBoost分类器/" style="font-size: 15px;">AdaBoost分类器</a> <a href="/tags/决策精确度/" style="font-size: 15px;">决策精确度</a> <a href="/tags/回溯精确度/" style="font-size: 15px;">回溯精确度</a> <a href="/tags/交叉验证/" style="font-size: 15px;">交叉验证</a> <a href="/tags/回测/" style="font-size: 15px;">回测</a> <a href="/tags/Caret预测/" style="font-size: 15px;">Caret预测</a> <a href="/tags/数据预处理/" style="font-size: 15px;">数据预处理</a> <a href="/tags/数据分割/" style="font-size: 15px;">数据分割</a> <a href="/tags/特征选择/" style="font-size: 15px;">特征选择</a> <a href="/tags/参数调优/" style="font-size: 15px;">参数调优</a> <a href="/tags/变量重要性评估/" style="font-size: 15px;">变量重要性评估</a> <a href="/tags/购物篮/" style="font-size: 15px;">购物篮</a> <a href="/tags/关联规则/" style="font-size: 15px;">关联规则</a> <a href="/tags/推荐算法/" style="font-size: 15px;">推荐算法</a> <a href="/tags/逻辑回归/" style="font-size: 15px;">逻辑回归</a> <a href="/tags/决策树/" style="font-size: 15px;">决策树</a> <a href="/tags/支持向量机/" style="font-size: 15px;">支持向量机</a> <a href="/tags/朴素贝叶斯/" style="font-size: 15px;">朴素贝叶斯</a> <a href="/tags/最近邻（KNN）/" style="font-size: 15px;">最近邻（KNN）</a> <a href="/tags/K-均值/" style="font-size: 15px;">K-均值</a> <a href="/tags/随机森林/" style="font-size: 15px;">随机森林</a> <a href="/tags/降维算法/" style="font-size: 15px;">降维算法</a> <a href="/tags/梯度下降算法/" style="font-size: 15px;">梯度下降算法</a> <a href="/tags/GBM/" style="font-size: 15px;">GBM</a> <a href="/tags/XGBoost/" style="font-size: 15px;">XGBoost</a> <a href="/tags/LightGBM/" style="font-size: 15px;">LightGBM</a> <a href="/tags/CatBoost/" style="font-size: 15px;">CatBoost</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://weibo.com/youthcolor" title="Geekdreams" target="_blank">Geekdreams</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">youthcolor.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>var jiathis_config={
    data_track_clickback:true,
    summary:"",
    shortUrl:true,
    hideMore:false
}</script><script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script><script src="http://v2.uyan.cc/code/uyan.js?uid=2136627"></script></body></html>